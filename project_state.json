{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "A Hindi/Urdu chat application with Groq API integration. The main issue is that the Groq API Key is not working correctly — even after entering the key in the app, errors persist. Fixing Groq API authentication, key storage, validation, and error handling.",
  "architectural_notes": [
    "Uses Groq API (console.groq.com) for chat completions — API key entered by user in-app, not hardcoded"
  ],
  "known_issues": [
    "Groq API Key returns error from the very first message even when a valid key is entered in the app"
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-fix-the-groq-api-integration-in-frontend-src-hooks-usechat-ts-so-that-when-a-user-enters-a-valid-api-key-in-the-app-it-is-correctly-read-stored-and-passed-as-the-authorization-header-in-all-groq-api-requests-e-g-authorization-bearer-key-ensure-no-extra-whitespace-or-formatting-issues-corrupt-the-key-value",
      "title": "Fix the Groq API integration in `frontend/src/hooks/useChat.ts` so that when a user enters a valid API key in the app, it is correctly read, stored, and passed as the Authorization header in all Groq API requests (e.g., `Authorization: Bearer <key>`). Ensure no extra whitespace or formatting issues corrupt the key value.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-update-frontend-env-to-remove-or-replace-the-currently-hardcoded-and-potentially-expired-revoked-vite-groq-api-key-value-with-a-placeholder-and-ensure-the-app-reads-the-api-key-from-user-input-at-runtime-rather-than-relying-solely-on-the-environment-variable",
      "title": "Update `frontend/.env` to remove or replace the currently hardcoded (and potentially expired/revoked) `VITE_GROQ_API_KEY` value with a placeholder, and ensure the app reads the API key from user input at runtime rather than relying solely on the environment variable.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-improve-error-handling-in-the-chat-feature-frontend-src-hooks-usechat-ts-and-frontend-src-pages-aichatscreen-tsx-to-display-clear-actionable-error-messages-when-the-groq-api-returns-authentication-errors-401-rate-limit-errors-429-or-network-failures-show-distinct-messages-for-invalid-api-key-rate-limit-exceeded-and-network-error",
      "title": "Improve error handling in the chat feature (`frontend/src/hooks/useChat.ts` and `frontend/src/pages/AIChatScreen.tsx`) to display clear, actionable error messages when the Groq API returns authentication errors (401), rate limit errors (429), or network failures. Show distinct messages for 'Invalid API Key', 'Rate limit exceeded', and 'Network error'.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-add-client-side-validation-for-the-groq-api-key-input-field-validate-that-the-key-starts-with-gsk-and-has-a-minimum-length-before-allowing-the-user-to-save-it-show-an-inline-validation-error-if-the-format-is-incorrect",
      "title": "Add client-side validation for the Groq API key input field: validate that the key starts with 'gsk_' and has a minimum length before allowing the user to save it. Show an inline validation error if the format is incorrect.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Fix Groq API Key integration — proper storage, authentication headers, validation, and error handling",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "gameProjectType": "none",
  "projectName": "Wrapper AI",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}